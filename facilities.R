Needed <- c("tm", "SnowballCC", "RColorBrewer", "ggplot2", "wordcloud", "biclust", "cluster", "igraph", "fpc")
install.packages(Needed, dependencies=TRUE)
install.packages("Rcampdf", repos = "http://datacube.wu.ac.at/", type = "source")
cname <- file.path("~", "Desktop", "txts")
cname
dir(cname)
library(tm)
docs <- Corpus(DirSource(cname))
cname <- file.path("~", "Desktop", "now")
cname
dir(cname)
library(tm)
docs <- Corpus(DirSource(cname))
cname <- file.path("C:","now")
cname
dir(cname)
cname <- file.path("desktop","now")
cname
dir(cname)
cname <- file.path("D:","then")
cname
dir(cname)
cname <- file.path("D:","then")
cname
cname <- file.path("D:","then")
cname
dir(cname)
dir(cname)
cname <- file.path("D:","then")
cname
dir(cname)
cname <- file.path("D:","texts")
cname
dir(cname)
library(tm)
docs <- Corpus(DirSource(cname))
summary(docs)
summary(docs)
docs <- tm_map(docs, removePunctuation)
for(j in seq(docs))
{
docs[[j]] <- gsub("/", " ", docs[[j]])
docs[[j]] <- gsub("@", " ", docs[[j]])
docs[[j]] <- gsub("\\|", " ", docs[[j]])
}
docs <- tm_map(docs, removeNumbers)
docs <- tm_map(docs, tolower)
cname <- file.path("D:","then")
cname
dir(cname)
cname <- file.path("D:","texts")
cname
dir(cname)
save.image("D:/R/Facilities_Emily/facilities_Emily.RData")
library(tm)
docs <- Corpus(DirSource(cname))
summary(docs)
docs <- tm_map(docs, removePunctuation)
for(j in seq(docs))
{
docs[[j]] <- gsub("/", " ", docs[[j]])
docs[[j]] <- gsub("@", " ", docs[[j]])
docs[[j]] <- gsub("\\|", " ", docs[[j]])
}
docs <- tm_map(docs, removeNumbers)
docs <- tm_map(docs, tolower)
library(SnowballC)
docs <- tm_map(docs, stemDocument)
docs <- tm_map(docs, stripWhitespace)
docs <- tm_map(docs, PlainTextDocument)
dtm <- DocumentTermMatrix(docs)
tdm <- TermDocumentMatrix(docs)
freq <- colSums(as.matrix(dtm))
length(freq)
ord <- order(freq)
dtms <- removeSparseTerms(dtm, 0.1)
inspect(dtms)
freq[head(ord)]
freq[tail(ord)]
head(table(freq), 20)
tail(table(freq), 20)
freq <- colSums(as.matrix(dtms))
freq
freq <- sort(colSums(as.matrix(dtm)), decreasing=TRUE)
head(freq, 14)
findFreqTerms(dtm, lowfreq=50)
wf <- data.frame(word=names(freq), freq=freq)
head(wf)
library(ggplot2)
p <- ggplot(subset(wf, freq>25000), aes(word, freq))
p <- p + geom_bar(stat="identity")
p <- p + theme(axis.text.x=element_text(angle=45, hjust=1))
p
library(ggplot2)
p <- ggplot(subset(wf, freq>25000), aes(word, freq))
p <- p + geom_bar(stat="identity")
p <- p + theme(axis.text.x=element_text(angle=45, hjust=1))
p
library(ggplot2)
library(ggplot2)
library(lubridate)
install.packages("lubridate")
Year <- year(seq(from = as.Date('2014-01-01'), to = as.Date('2017-12-01'), by = 'year'))
Year <- Date Requested(seq(from = as.Date('2014-01-01'), to = as.Date('2017-12-01'), by = 'year'))
Year <- DateRequested(seq(from = as.Date('2014-01-01'), to = as.Date('2017-12-01'), by = 'year'))
Year <- Date_Requested(seq(from = as.Date('2014-01-01'), to = as.Date('2017-12-01'), by = 'year'))
data<-xts(data,seq(as.POSIXct("2014-01-01"),len=length(data),by="day"))
plot(data)
Box.test(lgret,lag=20,type='Ljung')
Box.test(date requested,lag=20,type='Ljung')
Box.test(daterequested,lag=20,type='Ljung')
ggplot(data = df, mapping = aes(x = year, y = value, fill = type)) + geom_area(alpha = 0.6) + geom_line(colour = 'black', size = 1, position = 'stack', alpha = 0.6) + guides(fill = guide_legend(reverse = TRUE))
ggplot(data = df, mapping = aes(x = year, y = value, fill = type)) + geom_area() + guides(fill = guide_legend(reverse = TRUE))
ggplot(data = df, mapping = aes(x = year, y = value, linetype = type, colour = type, shape = type, fill = type)) + geom_line() + geom_point()+ scale_linetype_manual(values = c(1,2)) + scale_color_manual(values = c('steelblue','darkred')) + scale_shape_manual(values = c(21,23)) + scale_fill_manual(values = c('red','black'))
savehistory("D:/R/Facilities_Emily/facilities.R")
